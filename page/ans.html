<!DOCTYPE html>
<html lang="zxx">

<head>
    <title>测测你的空间认知段位，快来试试吧！</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="" />
    <style type="text/css">
        /*html{height:100%}*/
        /*body{height:100%;margin:0px;padding:0px;}*/
        #container{
            position:relative;
            height:100%;
            width:100%;
        }
    </style>
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!-- Custom Theme files -->
    <link href="../css/bootstrap.css" type="text/css" rel="stylesheet" media="all">
    <link rel="stylesheet" href="../css/chocolat.css" type="text/css" media="screen">
    <!-- chocolate css for gallery light box -->
    <link href="../css/style.css" type="text/css" rel="stylesheet" media="all">
    <link href="../css/font-awesome.css" rel="stylesheet">
    <!-- font-awesome icons -->
    <!--//Custom Theme files-->

    <!-- web-fonts -->
    <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed:100,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet">
    <!-- //web-fonts -->
</head>
<body>
<!-- skills -->
<div class="skills section-w3layouts main-pos" id="skills">
    <h3 class="pos-title">experiment</h3>
    <div class="container">
        <h4 class="sec-title">Spatial-Cognitive Ability</h4>
        <div class="banner-text" style="margin-top: 35px; margin-bottom: 25px">
            <h4>空间认知能力等级</h4>
            <h3 id = "level">铂金</h3>
            <h4 >打败全国<strong style="color: #B22222">99%</strong>的用户</h4>
            <div class="clearfix"></div>
        </div>
        <div style="height: 300px; width: auto;">
            <div id="container"></div>
        </div>
<!--        <div class="services-left" style="height: 300px; width: auto">-->
<!--            <div class="col-md-6 services-right-w3ls" style="height: 300px; width: auto">-->
<!--                <div id="container"></div>-->
<!--            </div>-->
<!--            <div class="clearfix"></div>-->
<!--        </div>-->
        <hr class="fancy-line" style="border: none;border-top: 2px dashed #ccc;margin: 30px 0;">
        <div style="margin-top: 25px; text-align: center">
                <img id="share" style="height: 400px; width: auto" src="../img/share.png" alt="share">
        </div>
    </div>
</div>
<script src="../js/jquery-2.2.3.min.js"></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
<script src="../js/echarts.min.js"></script>
<script src="../js/jquery.min.js"></script>
<script>
    let zheChart;
    zheChart = echarts.init(document.getElementById('container'));
    let dir = localStorage.getItem('dir');
    let dis = localStorage.getItem('dis');
    let imagination = localStorage.getItem('imagination');
    let memory = localStorage.getItem('memory');
    let reason = localStorage.getItem('reason');
    let score = localStorage.getItem('score');
    dir = parseFloat(dir).toFixed(2)
    dis = parseFloat(dis).toFixed(2)
    imagination = parseFloat(imagination).toFixed(2)
    memory = parseFloat(memory).toFixed(2)
    reason = parseFloat(reason).toFixed(2)
    score = parseFloat(score).toFixed(2)

    console.log(dir + " " + dis + " " + imagination + " " + memory + " " + reason + " " + score)
    let ll = "";
    if(score >= 90) ll = "王者";
    else if(score >= 80 && score < 90) ll = "星耀"
    else if(score >= 70 && score < 80) ll = "钻石"
    else if(score >= 60 && score < 70) ll = "黄金"
    else ll = "青铜"
    document.getElementById("level").innerText = ll;


    option = {
        color: ['#FF917C'],
        // title: {
        //     text: '空间认知能力细化'
        // },
        tooltip: {
            show: true,  // 设置为 true 显示 tooltips
        },
        legend: {
            show: false  // 隐藏图例标签
        },
        radar: [
            {
                indicator: [
                    { text: '定向能力', max: 100 },
                    { text: '距离感知能力', max: 100 },
                    { text: '空间想象力', max: 100 },
                    { text: '空间记忆能力', max: 100 },
                    { text: '空间推理能力', max: 100 },
                ],
                center: ['50%', '50%'],
                radius: 100,
                axisName: {
                    color: '#fff',
                    backgroundColor: '#666',
                    borderRadius: 3,
                    padding: [3, 5]
                },
                // splitArea: {
                //     areaStyle: {
                //         color: ['#77EADF', '#26C3BE', '#64AFE9', '#428BD4'],
                //         shadowColor: 'rgba(0, 0, 0, 0.2)',
                //         shadowBlur: 10
                //     }
                // },
                axisLine: {
                    lineStyle: {
                        color: '#FF7F50'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: '#FF7F50'
                    }
                }
            }
        ],
        series: [
            {
                type: 'radar',
                data: [
                    {
                        // value: [98.5, 100, 78, 89, 99.5],
                        value: [dir, dis, imagination, memory, reason],
                        name: '空间认知能力',
                        areaStyle: {
                            color: new echarts.graphic.RadialGradient(0.1, 0.6, 1, [
                                {
                                    color: 'rgba(255,99,71, 0.1)',
                                    offset: 0
                                },
                                {
                                    color: 'rgba(255,99,71, 0.9)',
                                    offset: 1
                                }
                            ])
                        }
                    }
                ]
            }
        ]
    };
    zheChart.setOption(option);
</script>
<script>
    // 禁止回退
    (function(){
        if(window.history && window.history.pushState) {
            window.onpopstate=function () {
                window.history.pushState('forward', null, '');
                window.history.forward(1);
            };
        }
        window.history.pushState('forward', null, '');//在IE中必须得有这两行
        window.history.forward(1);
    })();
    if(window.history && window.history.pushState) {
        window.onpopstate=function () {
            window.history.pushState('forward', null, '');
            window.history.forward(1);
        };
    }
    window.history.pushState('forward', null, '');//在IE中必须得有这两行
    window.history.forward(1);



    $(window).scroll(function () {
        if ($(window).scrollTop() >= 730) {
            $('nav').addClass('fixed-header');
        } else {
            $('nav').removeClass('fixed-header');
        }
    });
    const myImage = document.getElementById('share');

    myImage.addEventListener('contextmenu', function(e) {
        e.preventDefault(); // 阻止默认右键菜单弹出

        // 执行保存操作
        saveImageToLocalStorage(myImage.src);
    });

    function saveImageToLocalStorage(imageUrl) {
        const link = document.createElement('a');
        link.href = imageUrl;
        link.download = 'share.png'; // 设置下载的文件名

        // 模拟用户点击下载链接
        link.click();
    }

</script>

<script src="../js/jquery.chocolat.js"></script>
<script>
    $(function () {
        $('.filtr-item a').Chocolat();
    });
</script>
<!-- //PopUp-Box-JavaScript -->
<!-- fliter-JavaScript -->
<script src="../js/jquery.filterizr.js"></script>
<script src="../js/controls.js"></script>
<script>
    $(function () {
        $('.filtr-container').filterizr();
    });
</script>
<script  src="../js/move-top.js"></script>
<script src="../js/easing.js"></script>
<script>
    jQuery(document).ready(function ($) {
        $(".scroll").click(function (event) {
            event.preventDefault();

            $('html,body').animate({
                scrollTop: $(this.hash).offset().top
            }, 1000);
        });
    });
</script>
<!-- end-smooth-scrolling -->
<!-- smooth-scrolling-of-move-up-->
<script>
    $(document).ready(function () {
        $().UItoTop({
            easingType: 'easeOutQuart'
        });

    });
</script>
<script src="../js/SmoothScroll.min.js"></script>
<script src="../js/bootstrap.js"></script>
</body>

</html>